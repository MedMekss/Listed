{% extends 'todo/template.html' %}
{% load custon_tags %}
{% load static %}

{% block title %}
    category - {{ category }}
{% endblock %}

{% block content %}
    {% if checklists|length > 0 %}
        <h1 align="center">{{ category.title }}</h1>
        {% for checklist in checklists %}
            <div class="row d-flex flex-row justify-content-center nomargin" style="overflow: visible;">
                <div class="col-lg-7 col-md-8 col-xs-12 col-sm-12 maxwidth0">
                    <div class="checklist createwidths">
                        <div class="checklistheader">
                            <h1>{{ checklist.checklist_name }}</h1>
                            <progress-ring stroke="6" radius="18"
                                           progress="{{ items|get_progress:checklist }}"></progress-ring>
                            <ul class="list-unstyled">
                                {% for item in items|is_checklist:checklist %}
                                    <li class="list-items">{{ item.title }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <h2 align="center">Category doesn't exist or there are no checklists</h2>
        <p align="center">add a checklist <a style="text-decoration: underline; color: -webkit-link"
                                             href="{% url 'todo:create' %}">here</a></p>
    {% endif %}
{% endblock %}
{% block script %}
    <script src="{% static 'js/progress-bar.js' %}"></script>
{% endblock %}